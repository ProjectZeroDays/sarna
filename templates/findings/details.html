{% extends "base.html" %}

{% from "macros.html" import render_form %}
{% block body %}

    <div class="container" role="main">
        <div class="row">
            <div class="col-lg-10 col-lg-offset-1">
                <h2>Edit Finding</h2>
                {{ render_form(form) }}
            </div>
        </div>

        <div class="row col-lg-10 col-lg-offset-1">
            <div class="page-header">
                <h2>Translations
                    <a href="{{ url_for('.add_translation', finding_id=finding.id) }}"
                       class="btn btn-primary btn-success pull-right">
                        <span class="glyphicon glyphicon-plus"></span> Add Translation
                    </a>
                </h2>
            </div>
        </div>
        <div class="row col-lg-10 col-lg-offset-1">
            {% if finding.langs %}
                <table id="table_data" class="table table-striped table-hover">
                    <thead>
                    <th>Title</th>
                    <th>Language</th>
                    <th style="width: 20%">Action</th>
                    </thead>
                    <tbody>
                    {% for translation in finding.translations %}
                        <tr>
                            <td>{{ translation.title }}</td>
                            <td>{{ translation.lang }}</td>
                            <td>
                                <div class="btn-group">
                                    <a class="need-confirm btn btn-danger"
                                       href="{{ url_for('.delete_translation', finding_id=finding.id, language=translation.lang) }}">
                                        <span class="glyphicon glyphicon-trash"></span>
                                    </a>
                                    <a class="btn btn-default"
                                       href="{{ url_for('.edit_translation', finding_id=finding.id, language=translation.lang) }}">
                                        <span class="glyphicon glyphicon-edit"></span>
                                    </a>
                                </div>
                            </td>
                        </tr>
                    {% endfor %}
                    </tbody>
                </table>
            {% else %}
                <h4 class="text-center">No Translations!</h4>
            {% endif %}
        </div>
        <div class="row col-lg-10 col-lg-offset-1">
            <div class="page-header">
                <h2>Solutions
                    <a href="{{ url_for('.add_solution', finding_id=finding.id) }}"
                       class="btn btn-primary btn-success pull-right">
                        <span class="glyphicon glyphicon-plus"></span> Add Solution
                    </a>
                </h2>
            </div>
        </div>
        <div class="row col-lg-10 col-lg-offset-1">
            {% if finding.solutions %}
                <table id="table_data" class="table table-striped table-hover">
                    <thead>
                    <th>Name</th>
                    <th>Language</th>
                    <th style="width: 20%">Action</th>
                    </thead>
                    <tbody>
                    {% for solution in finding.solutions %}
                        <tr>
                            <td>{{ solution.name }}</td>
                            <td>{{ solution.lang }}</td>
                            <td>
                                <div class="btn-group">
                                    <a class="need-confirm btn btn-danger"
                                       href="{{ url_for('.delete_solution', finding_id=finding.id, solution_name=solution.name) }}">
                                        <span class="glyphicon glyphicon-trash"></span>
                                    </a>
                                    <a class="btn btn-default"
                                       href="{{ url_for('.edit_solution', finding_id=finding.id, solution_name=solution.name) }}">
                                        <span class="glyphicon glyphicon-edit"></span>
                                    </a>
                                </div>
                            </td>
                        </tr>
                    {% endfor %}
                    </tbody>
                </table>
            {% else %}
                <h4 class="text-center">No Solutions!</h4>
            {% endif %}
        </div>
    </div>
{% endblock %}